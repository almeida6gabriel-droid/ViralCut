(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5454:(e,t,o)=>{"use strict";o.d(t,{YoutubeGeneratorForm:()=>n});var r=o(5155),s=o(2115),l=o(8999);let a=["https://www.youtube.com/watch?v=jNQXAC9IVRw","https://youtu.be/dQw4w9WgXcQ","https://www.youtube.com/watch?v=3fumBcKC6RE"];function n(){let e=(0,l.useRouter)(),[t,o]=(0,s.useState)(""),[n,i]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),[u,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{fetch("/api/auth/google-config").then(e=>e.json()).then(e=>{h(!!(null==e?void 0:e.enabled))}).catch(()=>{h(!1)})},[]);let m=(0,s.useMemo)(()=>u?"/api/auth/signin/google?callbackUrl=/dashboard":"/api/auth/signin?callbackUrl=/dashboard",[u]);async function b(o){o.preventDefault(),d(null),i(!0);try{let o=await fetch("/api/jobs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({youtubeUrl:t})}),s=await o.json();if(!o.ok||!s.job){var r;throw Error(null!==(r=s.error)&&void 0!==r?r:"N\xe3o foi poss\xedvel iniciar o processamento.")}e.push("/dashboard?job=".concat(s.job.id))}catch(e){d(e instanceof Error?e.message:"Erro inesperado ao gerar cortes.")}finally{i(!1)}}return(0,r.jsxs)("div",{className:"glass reveal rounded-3xl p-4 shadow-glow md:p-6",children:[(0,r.jsxs)("form",{className:"flex flex-col gap-3",onSubmit:b,children:[(0,r.jsx)("label",{htmlFor:"youtube-url",className:"text-sm font-semibold text-slate-300",children:"Cole o link do v\xeddeo do YouTube"}),(0,r.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row",children:[(0,r.jsx)("input",{id:"youtube-url",type:"url",value:t,onChange:e=>o(e.target.value),placeholder:"https://www.youtube.com/watch?v=...",required:!0,className:"h-14 w-full rounded-2xl border border-indigo-300/30 bg-slate/70 px-4 text-sm text-white outline-none transition focus:border-electric"}),(0,r.jsx)("button",{type:"submit",disabled:n,className:"h-14 min-w-56 rounded-2xl bg-gradient-to-r from-electric to-neon px-6 text-sm font-semibold text-slate-950 transition hover:brightness-110 disabled:cursor-not-allowed disabled:brightness-75",children:n?"Processando v\xeddeo...":"Gerar cortes virais"})]})]}),(0,r.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:a.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>o(e),className:"rounded-full border border-slate-600 px-3 py-1 text-xs text-slate-300 transition hover:border-electric hover:text-electric",children:"Usar exemplo"},e))}),c?(0,r.jsx)("p",{className:"mt-3 text-sm text-red-300",children:c}):null,(0,r.jsxs)("div",{className:"mt-4 flex flex-col gap-3 border-t border-indigo-200/10 pt-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,r.jsx)("p",{className:"text-xs text-slate-300",children:"Ideal para TikTok, Reels e Shorts. Resultado em 9:16 com legendas autom\xe1ticas."}),(0,r.jsx)("a",{href:m,className:"inline-flex items-center justify-center rounded-xl border border-indigo-300/40 px-4 py-2 text-xs font-semibold text-white transition hover:border-electric hover:text-electric",children:u?"Login com Google":"Entrar (Google pronto para configurar)"})]})]})}},7523:(e,t,o)=>{Promise.resolve().then(o.bind(o,5454)),Promise.resolve().then(o.t.bind(o,6874,23))}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(7523)),_N_E=e.O()}]);