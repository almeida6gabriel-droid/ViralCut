(()=>{var e={};e.id=765,e.ids=[765],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5326:(e,t,r)=>{"use strict";r.d(t,{e:()=>x,l:()=>g});let o=["agora","ninguem","virada","erro","absurdo","detalhe","chocante"],a=["como","por que","segredo","quase","detalhe","numero","curiosidade"],i=["pol","controvers","discorda","treta","debate","absurdo"],s=["meme","engracado","rir","zoeira","risos","haha"],n=["historia","aconteceu","virada","quando","entao","depois"],l=["estrategia","reten","resultado","explicacao","aplicar","dica","aprendi"],c=["viral","reten","gancho","meme","controversa","detalhe","resultado","agora","chocante","absurdo"],u=["\uD83D\uDD25","\uD83D\uDE2E","\uD83D\uDC40","âš¡","\uD83D\uDCA5","\uD83C\uDFAF","\uD83E\uDD2F"],d={hook:["#HookPerfeito","#RetencaoAlta","#AberturaForte"],curiosity:["#Curiosidade","#VejaIsso","#NaoPule"],controversy:["#OpiniaoForte","#Debate","#Pol\xeamica"],humor:["#Humor","#Meme","#CorteEngracado"],storytelling:["#Storytelling","#PlotTwist","#HistoriaReal"],value:["#DicaRapida","#CriadorDeConteudo","#MarketingDigital"]};function m(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}function h(e,t){return t.reduce((t,r)=>t+ +!!e.includes(r),0)}function p(e,t){return e.split(/\s+/).filter(Boolean).slice(0,18).map((e,r)=>({time:Number((t+.45*r).toFixed(2)),text:e,highlight:r%4==0,emoji:r%6==0?u[r%u.length]:void 0}))}function g(e){let{videoTitle:t,segments:r,durationSec:g}=e,x=Math.min(10,Math.max(3,e.requestedCuts??5)),f=r.map(e=>(function(e,t){let r=m(e.text),c=e.startSec<30,u=1-e.startSec/Math.max(t,1),d={hook:Math.min(100,20*h(r,o)+20*!!c+20*e.energy),curiosity:Math.min(100,20*h(r,a)+12),controversy:Math.min(100,34*h(r,i)),humor:Math.min(100,36*h(r,s)),storytelling:Math.min(100,16*h(r,n)+8),value:Math.min(100,20*h(r,l)+10),emotion:Math.round(100*e.emotion)},p=Math.round(Math.min(100,.21*d.hook+.17*d.curiosity+.14*d.controversy+.14*d.humor+.12*d.storytelling+.1*d.value+.07*d.emotion+5*e.energy+7*u));return{segment:e,score:p,signals:d}})(e,g));f.sort((e,t)=>t.score-e.score);let v=[];for(let e of f){var y,S;if(v.length>=x)break;let o=Math.max(30,Math.min(75,30+Math.round(.32*e.score))),a=Math.max(0,e.segment.startSec-5),i=Math.min(g,a+o),s=Math.round(i-a);if(s<30||v.some(e=>{var t;return t=e.startSec,Math.max(0,Math.min(i,e.endSec)-Math.max(a,t))>14}))continue;let n=r.filter(e=>e.startSec<i&&e.endSec>a),l=n.slice(0,4).map(e=>e.text).join(" ").slice(0,420).trim(),h=function(e){let t=[["hook",e.hook],["curiosity",e.curiosity],["controversy",e.controversy],["humor",e.humor],["storytelling",e.storytelling],["value",e.value]];return t.sort((e,t)=>t[1]-e[1]),t[0][0]}(e.signals),f=(y=h,S=e.segment.tags,Array.from(new Set([...d[y],"#TikTokBrasil","#YouTubeShorts","#CortesVirais",...S.map(e=>`#${e.replace(/[^a-z0-9]/gi,"")}`).slice(0,2)]))),k=function(e,t,r){let o=t.replace(/\.$/,""),a={hook:[`Gancho forte para segurar audi\xeancia (${r+1})`,`Abertura com alto potencial de reten\xe7\xe3o`],curiosity:[`Trecho que gera curiosidade instant\xe2nea`,`Esse detalhe prende at\xe9 o final`],controversy:[`Momento pol\xeamico para aumentar coment\xe1rios`,`Trecho que divide opini\xf5es e gera debate`],humor:["Corte com humor e replay alto",`Timing engra\xe7ado para Shorts e Reels`],storytelling:["Virada de narrativa em menos de 1 minuto",`Storytelling com ritmo de reten\xe7\xe3o`],value:[`Dica r\xe1pida com valor imediato`,`Explica\xe7\xe3o pr\xe1tica com potencial viral`]},i=o.length>45?`${o.slice(0,45)}...`:o;return a[e][r%a[e].length]||i}(h,e.segment.text,v.length),M=n.length>0?function(e){let t=[];for(let r of e){let e=r.text.split(/\s+/).filter(Boolean).slice(0,20);if(0===e.length)continue;let o=Math.max(.7,r.endSec-r.startSec)/e.length;for(let a=0;a<e.length;a+=1){let i=e[a].replace(/[.,!?]/g,"");if(!i)continue;let s=m(i),n=c.some(e=>s.includes(e)),l=n&&(t.length+a)%5==0?u[(t.length+a)%u.length]:void 0;t.push({time:Number((r.startSec+o*a).toFixed(2)),text:i,highlight:n,emoji:l})}}return t.slice(0,90)}(n):p(e.segment.text,a);v.push({id:`clip-${v.length+1}-${e.segment.id.slice(-8)}`,title:k,score:e.score,angle:h,startSec:a,endSec:i,durationSec:s,hookLine:e.segment.text,transcriptSnippet:l||e.segment.text,hashtags:f,suggestedDescription:`Recorte de ${t} com foco em ${h}. Corte otimizado para reten\xe7\xe3o e compartilhamento r\xe1pido.`,subtitles:M,ffmpegPlan:[],previewUrl:"",downloadUrl:"",render:{aspectRatio:"9:16",zoomMode:"face-smart",cameraStyle:"dynamic-cut",captionsStyle:"reels-bold",headline:k,showProgressBar:!0},signals:e.signals})}if(0===v.length){let e=Math.min(g,35);v.push({id:"clip-1-fallback",title:"Trecho inicial com potencial de reten\xe7\xe3o",score:45,angle:"hook",startSec:0,endSec:e,durationSec:Math.round(e-0),hookLine:r[0]?.text??"In\xedcio do v\xeddeo",transcriptSnippet:r.slice(0,4).map(e=>e.text).join(" "),hashtags:["#CortesVirais","#Shorts","#TikTokBrasil"],suggestedDescription:"Trecho inicial otimizado para reten\xe7\xe3o.",subtitles:p(r[0]?.text??"Trecho inicial",0),ffmpegPlan:[],previewUrl:"",downloadUrl:"",render:{aspectRatio:"9:16",zoomMode:"face-smart",cameraStyle:"dynamic-cut",captionsStyle:"reels-bold",headline:"Corte sugerido",showProgressBar:!0},signals:{hook:55,curiosity:35,controversy:10,humor:10,storytelling:30,value:35,emotion:40}})}return v.slice(0,x)}function x(e,t){let r=e.trim().slice(0,240),o=t?.trim()||"corte viral";return{titles:[`${o}: o trecho que prendeu geral`,`Esse momento de ${o.toLowerCase()} est\xe1 absurdo`,`Poucos segundos de ${o.toLowerCase()} que geram replay`,`O melhor corte de ${o.toLowerCase()} para Shorts`,`Se liga nesse recorte de ${o.toLowerCase()}!`],description:`ðŸŽ¬ ${r}

Esse corte foi otimizado para reten\xe7\xe3o, impacto e compartilhamento.

#CortesVirais #YouTubeShorts #TikTokBrasil #ReelsBrasil #CreatorEconomy`,hashtags:["#CortesVirais","#YouTubeShorts","#TikTokBrasil","#ReelsBrasil","#ConteudoDigital"]}}},6198:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>x,routeModule:()=>m,serverHooks:()=>g,workAsyncStorage:()=>h,workUnitAsyncStorage:()=>p});var o={};r.r(o),r.d(o,{POST:()=>d});var a=r(6559),i=r(8088),s=r(7719),n=r(2190),l=r(209),c=r(5326);let u=l.Ik({sourceText:l.Yj().min(8),contextTitle:l.Yj().optional()});async function d(e){try{let t=await e.json(),r=u.safeParse(t);if(!r.success)return n.NextResponse.json({error:"Texto insuficiente para gerar SEO."},{status:400});return n.NextResponse.json((0,c.e)(r.data.sourceText,r.data.contextTitle))}catch{return n.NextResponse.json({error:"Falha ao gerar t\xedtulos e hashtags."},{status:500})}}let m=new a.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/seo/route",pathname:"/api/seo",filename:"route",bundlePath:"app/api/seo/route"},resolvedPagePath:"/Users/almeidagabriel/Documents/CANA/app/api/seo/route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:h,workUnitAsyncStorage:p,serverHooks:g}=m;function x(){return(0,s.patchFetch)({workAsyncStorage:h,workUnitAsyncStorage:p})}},6487:()=>{},8335:()=>{},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[447,580,209],()=>r(6198));module.exports=o})();