"use strict";(()=>{var e={};e.id=299,e.ids=[299],e.modules={846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1421:e=>{e.exports=require("node:child_process")},1455:e=>{e.exports=require("node:fs/promises")},1820:e=>{e.exports=require("os")},3024:e=>{e.exports=require("node:fs")},3033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3412:(e,r,t)=>{t.r(r),t.d(r,{patchFetch:()=>w,routeModule:()=>x,serverHooks:()=>h,workAsyncStorage:()=>m,workUnitAsyncStorage:()=>q});var o={};t.r(o),t.d(o,{GET:()=>c,runtime:()=>l});var s=t(6559),n=t(8088),a=t(7719),i=t(2190),p=t(3024),d=t(7075),u=t(2473);let l="nodejs";async function c(e,r){let t=await r.params,o=(0,u.JG)(t.id,t.clipId);if(!o)return i.NextResponse.json({error:"Corte n\xe3o encontrado para download."},{status:404});let s=(0,p.createReadStream)(o.filePath),n=d.Readable.toWeb(s);return new i.NextResponse(n,{status:200,headers:{"Content-Type":o.contentType,"Content-Disposition":`attachment; filename="${o.filename}"`,"Cache-Control":"no-store"}})}let x=new s.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/jobs/[id]/clips/[clipId]/download/route",pathname:"/api/jobs/[id]/clips/[clipId]/download",filename:"route",bundlePath:"app/api/jobs/[id]/clips/[clipId]/download/route"},resolvedPagePath:"/Users/almeidagabriel/Documents/CANA/app/api/jobs/[id]/clips/[clipId]/download/route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:m,workUnitAsyncStorage:q,serverHooks:h}=x;function w(){return(0,a.patchFetch)({workAsyncStorage:m,workUnitAsyncStorage:q})}},3873:e=>{e.exports=require("path")},4870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6760:e=>{e.exports=require("node:path")},7075:e=>{e.exports=require("node:stream")},7598:e=>{e.exports=require("node:crypto")},7975:e=>{e.exports=require("node:util")},9294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var r=require("../../../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[447,580,469],()=>t(3412));module.exports=o})();